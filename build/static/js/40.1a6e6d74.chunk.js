(this.webpackJsonpbeedlez=this.webpackJsonpbeedlez||[]).push([[40],{1685:function(e,t,a){},1734:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return L}));var n=a(7),r=a.n(n),c=a(26),i=a(13),l=a(41),o=a(0),s=a.n(o),d=a(1476),u=a(5),p=a.n(u),m=a(32),f=a(15),g=a(1477),b=a(1478),h=a(564),x=a(1485),y=a(1479),v=a(1480),w=a(1481),E=a(1482),O=a(1483),k=a(1484),A=a(1499),_=a(1494),j=a(217),T=a.n(j),N=a(30),P=a(216),S=a.n(P),C=a(1493),I=(a(1685),Object(d.a)((function(e){return{root:{flexWrap:"wrap"},margin:{margin:e.spacing(1)},extendedIcon:{marginRight:e.spacing(1)},paperHeading:{padding:"1rem 0rem"},table:{minWidth:650},textMiddle:{verticalAlign:"middle !important"},iconMargin:{margin:"0.5rem",color:"#fff",backgroundColor:"#696969"},iconcolor:{margin:"0.5rem",color:"#fff",backgroundColor:"#0e3f37 !important"},headingButton:{display:"flex",flexDirection:"row",justifyContent:"space-around",padding:"10px"},headingAlignment:Object(l.a)({display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap"},"@media (max-width:780px)",{flexDirection:"column",width:"100%",gap:"1rem",justifyContent:"center",textAlign:"center"}),Marginbutton:{margin:"0.5rem"},container:{},paperPaddingRightLeft:{padding:"0rem 1rem"}}}))),M=Object(g.a)(b.a)((function(e){var t=e.theme;return{padding:8,"& .MuiSwitch-track":{borderRadius:11,"&:before, &:after":{content:'""',position:"absolute",top:"50%",transform:"translateY(-50%)",width:16,height:16},"&:before":{backgroundImage:'url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="16" width="16" viewBox="0 0 24 24"><path fill="'.concat(encodeURIComponent(t.palette.getContrastText(t.palette.primary.main)),'" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"/></svg>\')'),left:12},"&:after":{backgroundImage:'url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="16" width="16" viewBox="0 0 24 24"><path fill="'.concat(encodeURIComponent(t.palette.getContrastText(t.palette.primary.main)),'" d="M19,13H5V11H19V13Z" /></svg>\')'),right:12}},"& .MuiSwitch-thumb":{boxShadow:"none",width:16,height:16,margin:2}}}));function L(e){var t=I(),a=e.location.state,n=Object(o.useState)([]),l=Object(i.a)(n,2),d=l[0],u=l[1],g=Object(o.useState)([]),b=Object(i.a)(g,2),j=b[0],P=b[1],L=Object(o.useState)(null),R=Object(i.a)(L,2),D=R[0],W=R[1],H=Object(o.useState)(""),B=Object(i.a)(H,2),U=B[0],z=B[1],G=Object(o.useState)(""),J=Object(i.a)(G,2),V=(J[0],J[1],s.a.useState(0)),Z=Object(i.a)(V,2),F=Z[0],Y=Z[1],$=s.a.useState(10),q=Object(i.a)($,2),K=q[0],Q=q[1];Object(o.useEffect)((function(){X(),ee()}),[]);var X=function(){var e=Object(c.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("/admin/get_users_types");case 3:t=e.sent,a=t.data,P(a.userType),console.log(a.userType),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(c.a)(r.a.mark((function e(t){var n,c,i,l,o,s,d,p,f;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t||""===t){e.next=15;break}return e.next=4,m.a.get("/admin/get_subscription_plans");case 4:n=e.sent,c=n.data,console.log(c),console.log(c.plan),i=c.plan.filter((function(e){return e.userType._id===t})),u(Object(N.orderBy)(i,(function(e){return new Date(e.createdAt).getTime()}),["desc"])),ie(i),z(t),console.log(c.plan),e.next=55;break;case 15:return e.next=17,m.a.get("/admin/get_subscription_plans");case 17:if(l=e.sent,o=l.data,console.log(o),console.log(o.plan),!a||"undefined"===a){e.next=50;break}console.log(a),console.log(o.plan),d=o.plan.filter((function(e){return e.userType._id===a})),console.log(d),p=null===(s=o.plan.find((function(e){return e.userType._id===a})))||void 0===s?void 0:s.userType.title,console.log(p),u(Object(N.orderBy)(d,(function(e){return new Date(e.createdAt).getTime()}),["desc"])),ie(d),z(a),e.t0=a,e.next="61b0df509d05e9e75bdf4fc3"===e.t0?34:"61b0df509d05e9e75bdf4fc4"===e.t0?36:"61b0df509d05e9e75bdf4fc5"===e.t0?38:"61b0df509d05e9e75bdf4fc6"===e.t0?40:"61b0df509d05e9e75bdf4fc7"===e.t0?42:"61b0df509d05e9e75bdf4fc8"===e.t0?44:46;break;case 34:return W({userType:{title:"Individual User",_id:a},Operation:"Add"}),e.abrupt("break",48);case 36:return W({userType:{title:"Agent Reprensentative",_id:a},Operation:"Add"}),e.abrupt("break",48);case 38:return W({userType:{title:"Management Company Representative",_id:a},Operation:"Add"}),e.abrupt("break",48);case 40:return W({userType:{title:"Lawyer",_id:a},Operation:"Add"}),e.abrupt("break",48);case 42:return W({userType:{title:"Production",_id:a},Operation:"Add"}),e.abrupt("break",48);case 44:return W({userType:{title:"Subscriber Staff Member",_id:a},Operation:"Add"}),e.abrupt("break",48);case 46:return W({userType:{title:p,_id:a},Operation:"Add"}),e.abrupt("break",48);case 48:e.next=55;break;case 50:f=o.plan.filter((function(e){return"61b0df509d05e9e75bdf4fc3"===e.userType._id})),u(Object(N.orderBy)(f,(function(e){return new Date(e.createdAt).getTime()}),["desc"])),ie(f),W({userType:{title:"Individual User",_id:"61b0df509d05e9e75bdf4fc3"},Operation:"Add"}),z("61b0df509d05e9e75bdf4fc3");case 55:e.next=60;break;case 57:e.prev=57,e.t1=e.catch(0),console.log(e.t1);case 60:case"end":return e.stop()}}),e,null,[[0,57]])})));return function(t){return e.apply(this,arguments)}}(),te=Object(o.useState)(""),ae=Object(i.a)(te,2),ne=(ae[0],ae[1],Object(o.useState)([])),re=Object(i.a)(ne,2),ce=re[0],ie=re[1],le=function(){var e=Object(c.a)(r.a.mark((function e(t){var n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post("/admin/remove_subscription_plan",{planId:t});case 3:n=e.sent,c=n.data,f.b.success(c.message,{position:f.b.POSITION.TOP_RIGHT}),ee(a),console.log(c),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(c.a)(r.a.mark((function e(t,a){var n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(a),e.next=4,m.a.post("/admin/block_unblock_plan",{planId:a._id,is_blocked:t.target.checked});case 4:n=e.sent,c=n.data,ee(a.userType._id),f.b.success(c.message,{position:f.b.POSITION.TOP_RIGHT}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}();return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"page-content"},s.a.createElement("div",{className:t.root},s.a.createElement(h.a,null,s.a.createElement("div",{className:t.paperPaddingRightLeft},s.a.createElement("div",{className:"py-4"},s.a.createElement(h.a,{elevation:0,className:p()(t.paperHeading,t.headingAlignment)},s.a.createElement("h3",{style:{}},"Subscription Management"),s.a.createElement(T.a,{className:"heightfix",onChange:function(e){return function(e){console.log(e);var t=ce.filter((function(t){var a=t.planName;return a.toLowerCase().includes(e.toLowerCase())}));u(t)}(e)},onCancelSearch:function(){ee(U)},placeholder:"Plan Name"}),s.a.createElement(x.a,{variant:"contained",className:"buttoncss",style:{backgroundColor:"#0e3f37",color:"#fff"},onClick:function(){e.history.push({pathname:"/adminPanel/AddEditSubscription",state:D})}}," ","ADD Subscription")),s.a.createElement(h.a,{elevation:0,className:p()(t.paperHeading,t.headingButton)},s.a.createElement("div",null,j.map((function(e,a){return s.a.createElement(x.a,{variant:"contained","aria-label":"add",className:t.iconMargin+" "+(U===e._id?t.iconcolor:""),key:a+1,onClick:function(){W({userType:{title:e.title,_id:e._id},Operation:"Add"}),console.log(e._id),ee(e._id)}},e.title)})))),s.a.createElement(h.a,null,s.a.createElement(y.a,{className:t.container},s.a.createElement(v.a,{className:t.table,stickyHeader:!0},s.a.createElement(w.a,null,s.a.createElement(E.a,null,s.a.createElement(O.a,{style:{fontWeight:"bold",textAlign:"center"}},"Sr. No."),s.a.createElement(O.a,{style:{fontWeight:"bold",textAlign:"center"}},"Plan Name"),s.a.createElement(O.a,{style:{fontWeight:"bold",textAlign:"center"}},"Plan Type"),s.a.createElement(O.a,{style:{fontWeight:"bold",textAlign:"center"}},"Price"),s.a.createElement(O.a,{style:{fontWeight:"bold",textAlign:"center"}},"Status"),s.a.createElement(O.a,{style:{textAlign:"center",fontWeight:"bold"}},"Actions"))),s.a.createElement(k.a,null,d.slice(F*K,F*K+K).map((function(a,n){return s.a.createElement(E.a,{key:n},s.a.createElement(O.a,{component:"th",scope:"row",className:t.textMiddle,style:{textAlign:"center"}},n+1+F*K),s.a.createElement(O.a,{className:t.textMiddle,style:{textAlign:"center"}},a.planName),s.a.createElement(O.a,{style:{textAlign:"center"}},a.planType),s.a.createElement(O.a,{style:{textAlign:"center"}},"$"+a.planPrice),s.a.createElement(O.a,{style:{textAlign:"center"}},s.a.createElement(A.a,{title:"Active/Inactive",arrow:!0},s.a.createElement(M,{onChange:function(e){oe(e,a)},checked:a.is_blocked}))),s.a.createElement(O.a,{className:t.textMiddle,style:{textAlign:"center"}},s.a.createElement(x.a,{onClick:function(){e.history.push({pathname:"/adminPanel/AddEditSubscription",state:a})},className:"",style:{border:"1.5px solid #c4c4c4",margin:"0.5rem",color:"#0e3f37"}},s.a.createElement(A.a,{title:"Edit Plan",arrow:!0},s.a.createElement(S.a,null))),s.a.createElement(x.a,{className:"",onClick:function(){le(a._id)},style:{border:"1.5px solid #c4c4c4",margin:"0.5rem",color:"#696969"}},s.a.createElement(A.a,{title:"Delete Plan",arrow:!0},s.a.createElement(C.a,null)))))}))))),s.a.createElement(_.a,{rowsPerPageOptions:[10,25,100],component:"div",count:d.length,rowsPerPage:K,page:F,onPageChange:function(e,t){Y(t)},onRowsPerPageChange:function(e){Q(+e.target.value),Y(0)}}))))))))}}}]);
//# sourceMappingURL=40.1a6e6d74.chunk.js.map