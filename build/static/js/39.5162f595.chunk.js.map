{"version":3,"sources":["pages/Subscription_Management/KErrorMessage.js","pages/Subscription_Management/AddEditSubscription.js"],"names":["KErrorMessage","name","style","color","useStyles","makeStyles","theme","root","flexWrap","margin","spacing","extendedIcon","marginRight","paperHeading","padding","table","minWidth","textMiddle","verticalAlign","iconMargin","backgroundColor","iconcolor","headingButton","display","flexDirection","justifyContent","headingAlignment","alignItems","width","gap","textAlign","addNewCategory","addNewCategoryHeading","flex","paddingBottom","MarginControl","Marginbutton","container","maxHeight","paperPaddingRightLeft","AddEditSubscription","props","classes","useEffect","state","location","console","log","validationSchema","yup","required","TypeofPlan","PriceofPlan","matches","addNewSubscription","values","a","axios","post","userType","_id","planType","planName","planPrice","data","history","push","pathname","toast","success","message","position","POSITION","TOP_RIGHT","error","response","EditSubscription","is_blocked","planId","Fragment","className","Paper","elevation","classNames","headingSellerDetails","Button","variant","aria-label","onClick","window","confirm","marginBottom","marginLeft","Operation","initialValues","get","onSubmit","fontSize","type","disabled","as","value","borderRadius","border","height"],"mappings":"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","file":"static/js/39.5162f595.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { ErrorMessage } from \"formik\";\r\n\r\nconst KErrorMessage = ({ name }) => {\r\n  return (\r\n    <div style={{ color: \"red\" }}>\r\n      {/* <br /> */}\r\n      <ErrorMessage name={name} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default KErrorMessage;","import React, { useState, useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport classNames from \"classnames\";\r\nimport { Paper } from \"@material-ui/core\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport * as yup from \"yup\";\r\nimport KErrorMessage from \"./KErrorMessage\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\r\nimport axios from \"../../axios\";\r\nimport { toast } from \"react-toastify\";\r\nimport { add, get } from \"lodash\";\r\n\r\nimport \"./AddEditSubscription.css\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexWrap: \"wrap\",\r\n    // marginTop: '5rem',\r\n  },\r\n  margin: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  extendedIcon: {\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  paperHeading: {\r\n    padding: \"1rem 0rem\",\r\n  },\r\n  table: {\r\n    minWidth: 650,\r\n  },\r\n  textMiddle: {\r\n    verticalAlign: \"middle !important\",\r\n  },\r\n  iconMargin: {\r\n    margin: \"0.5rem\",\r\n    color: \"#696969\",\r\n    backgroundColor: \"#fff\",\r\n  },\r\n  iconcolor: {\r\n    margin: \"0.5rem\",\r\n    color: \"#fff\",\r\n    backgroundColor: \"#0e3f37 !important\",\r\n  },\r\n  headingButton: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    justifyContent: \"space-around\",\r\n    padding: \"10px\",\r\n  },\r\n  headingAlignment: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    justifyContent: \"space-between\",\r\n    // padding: \"0 2rem 0 2rem\"\r\n    alignItems: \"center\",\r\n    flexWrap: \"wrap\",\r\n    [\"@media (max-width:780px)\"]: {\r\n      // eslint-disable-line no-useless-computed-key\r\n      flexDirection: \"column\",\r\n      width: \"100%\",\r\n      gap: \"1rem\",\r\n      justifyContent: \"center\",\r\n      textAlign: \"center\",\r\n    },\r\n  },\r\n  addNewCategory: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    flexWrap: \"wrap\",\r\n    [\"@media (max-width:780px)\"]: {\r\n      // eslint-disable-line no-useless-computed-key\r\n      flexDirection: \"column\",\r\n      width: \"100%\",\r\n      gap: \"1rem\",\r\n      justifyContent: \"center\",\r\n      textAlign: \"center\",\r\n    },\r\n  },\r\n  addNewCategoryHeading: {\r\n    textAlign: \"center\",\r\n    flex: 1,\r\n    paddingBottom: \"0 !important\",\r\n    [\"@media (max-width:780px)\"]: {\r\n      // eslint-disable-line no-useless-computed-key\r\n      flexDirection: \"column\",\r\n      width: \"100%\",\r\n      gap: \"1rem\",\r\n      justifyContent: \"center\",\r\n      textAlign: \"center\",\r\n    },\r\n  },\r\n  MarginControl: {\r\n    [\"@media (max-width:780px)\"]: {\r\n      // eslint-disable-line no-useless-computed-key\r\n      margin: \"0 !important\",\r\n    },\r\n  },\r\n  Marginbutton: {\r\n    margin: \"0.5rem\",\r\n  },\r\n  container: {\r\n    maxHeight: \"58vh\",\r\n  },\r\n  paperPaddingRightLeft: {\r\n    padding: \"0rem 1rem\",\r\n  },\r\n}));\r\n\r\nconst AddEditSubscription = (props) => {\r\n  const classes = useStyles();\r\n\r\n  //  data from previous page\r\n\r\n  useEffect(() => {\r\n    // getactivemenuitem();\r\n  }, []);\r\n  const {\r\n    location: { state },\r\n  } = props;\r\n  console.log(props);\r\n  const getactivemenuitem = () => {\r\n    const result = [...document.getElementsByTagName(\"a\")];\r\n    const newres = result.filter((ele) => {\r\n      if (ele.innerText === \"Manage Subscription\") {\r\n        return ele;\r\n      }\r\n    });\r\n    newres[0].classList.add(\"activate\");\r\n    console.log(newres);\r\n    console.log(result);\r\n  };\r\n  console.log(state);\r\n\r\n  //Validation Schema\r\n\r\n  const validationSchema = yup.object({\r\n    name: yup.string().required(\"Name of Plan is Required!\"),\r\n    //  desc: yup\r\n    //  .string()\r\n    //  .min(5, \"too small!\")\r\n    //  .max(500, \"Too Long String!\")\r\n    //  .required(\"Required!\"),\r\n    TypeofPlan: yup.string().required(\"Type is Required!\"),\r\n    PriceofPlan: yup\r\n      .string()\r\n      .required(\"Price of Plan is Required!\")\r\n      .matches(/^[0-9]+$/, \"Numeric values Only!\"),\r\n  });\r\n\r\n  // ADDING NEW Subscription\r\n\r\n  const addNewSubscription = async (values) => {\r\n    try {\r\n      console.log(values);\r\n\r\n      const { data } = await axios.post(\"/admin/create_subscription_plan\", {\r\n        userType: state.userType._id,\r\n        planType: values.TypeofPlan,\r\n        planName: values.name,\r\n        planPrice: values.PriceofPlan,\r\n      });\r\n      props.history.push({\r\n        pathname: \"/adminPanel/Subscription_Management\",\r\n        state: state.userType._id,\r\n      });\r\n      toast.success(data.message, {\r\n        position: toast.POSITION.TOP_RIGHT,\r\n      });\r\n      console.log(data);\r\n      console.log(values);\r\n      console.log(state.userType._id);\r\n    } catch (error) {\r\n      toast.error(error.response.data.message, {\r\n        position: toast.POSITION.TOP_RIGHT,\r\n      });\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  // Edit Subscription . update api\r\n\r\n  const EditSubscription = async (values) => {\r\n    try {\r\n      console.log(values);\r\n\r\n      const { data } = await axios.post(\"/admin/update_subscription_plan\", {\r\n        is_blocked: state.is_blocked,\r\n        planId: state._id,\r\n        userType: state.userType._id,\r\n        planType: values.TypeofPlan,\r\n        planName: values.name,\r\n        planPrice: values.PriceofPlan,\r\n      });\r\n      props.history.push({\r\n        pathname: \"/Subscription_Management\",\r\n        state: state.userType._id,\r\n      });\r\n      toast.success(data.message, {\r\n        position: toast.POSITION.TOP_RIGHT,\r\n      });\r\n      console.log(data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"page-content\">\r\n        <div className={classes.root}>\r\n          <Paper>\r\n            <div className={classes.paperPaddingRightLeft}>\r\n              <div className=\"py-4\">\r\n                <Paper elevation={0} className={classNames(classes.paperHeading, classes.addNewCategory)}>\r\n                  <div className={classes.headingSellerDetails}>\r\n                    <Button\r\n                      variant=\"outlined\"\r\n                      aria-label=\"add\"\r\n                      className={classes.iconMargin}\r\n                      onClick={() => {\r\n                        if (window.confirm(\"Are you sure , you want to leave this page?\")) {\r\n                          props.history.push({\r\n                            pathname: \"/adminPanel/Subscription_Management\",\r\n                            state: state.userType._id,\r\n                          });\r\n                        }\r\n                      }}\r\n                    >\r\n                      <ArrowBackIcon />\r\n                    </Button>\r\n                  </div>\r\n                  <div className={classNames(classes.addNewCategoryHeading)}>\r\n                    {\" \"}\r\n                    <h3 className={classes.MarginControl} style={{ marginBottom: \"-0.5rem\", marginLeft: \"-135px\" }}>\r\n                      {console.log(state)}\r\n                      {state?.Operation ? `ADD NEW PLAN` : `EDIT PLAN`}\r\n                    </h3>\r\n                  </div>\r\n                </Paper>\r\n\r\n                {/* //new design */}\r\n\r\n                {/* status end */}\r\n\r\n                <Paper\r\n                  style={{\r\n                    display: \"flex\",\r\n                    alignItems: \"center\",\r\n                    flexDirection: \"column\",\r\n                  }}\r\n                >\r\n                  <div style={{ margin: \"2rem 0 2rem 0\" }}>\r\n                    <Formik\r\n                      validationSchema={validationSchema}\r\n                      initialValues={{\r\n                        // TypeofUser: get(state.userType, \"title\", \"\"),\r\n                        name: get(state, \"planName\", \"\"),\r\n                        PriceofPlan: get(state, \"planPrice\", \"\"),\r\n                        TypeofPlan: get(state, \"planType\", \"\"),\r\n\r\n                        // name:   get(state, \"name\", \"\"),\r\n                        // desc: get(state, \"desc\", \"\"),\r\n                      }}\r\n                      onSubmit={(values) => {\r\n                        console.log(values);\r\n                        if (state?.Operation) {\r\n                          addNewSubscription(values);\r\n                          //   EditCategory(values)\r\n                        } else {\r\n                          EditSubscription(values);\r\n                          //   addNewCategory(values)\r\n                        }\r\n                      }}\r\n                    >\r\n                      {({ values }) => (\r\n                        <Form>\r\n                          <div className=\"customContainer1\">\r\n                            <label className=\"labelAddSubscription\" style={{ fontSize: \"20px\" }}>\r\n                              Type of User:\r\n                            </label>\r\n                            <Field className=\"fieldAddSubscription disabledColor\" name=\"TypeofUser\" type=\"text\" disabled />\r\n                            {/* <Field  className=\"fieldAddSubscription\" name=\"fieldType\" as=\"select\">\r\n                <option value=\"\">Select</option>\r\n              <option value=\"Individual User\">Individual User</option>\r\n              <option value=\"Agent Representative\">Agent Representative</option>\r\n              <option value=\"Management Company Representative\">Management Company Representative</option>\r\n              <option value=\"Lawyer\">Lawyer</option>\r\n              <option value=\"Production\">Production</option>\r\n              <option value=\"Subscriber Staff Member\">Subscriber Staff Member</option>\r\n            </Field>  */}\r\n                            {/* <KErrorMessage name=\"fieldType\" /> */}\r\n                            <label className=\"labelAddSubscription\" style={{ fontSize: \"20px\" }}>\r\n                              Name of Plan:\r\n                            </label>\r\n                            <Field className=\"fieldAddSubscription\" name=\"name\" type=\"text\" />\r\n                            <KErrorMessage name=\"name\" />\r\n\r\n                            <label className=\"labelAddSubscription\" style={{ fontSize: \"20px\" }}>\r\n                              Type of Plan:\r\n                            </label>\r\n                            <Field className=\"fieldAddSubscription\" name=\"TypeofPlan\" as=\"select\">\r\n                              <option value=\"\">Select</option>\r\n                              <option value=\"MONTHLY\">MONTHLY</option>\r\n                              <option value=\"HALF YEARLY\">HALF YEARLY</option>\r\n                              <option value=\"YEARLY\">YEARLY</option>\r\n                            </Field>\r\n                            <KErrorMessage name=\"TypeofPlan\" />\r\n                            {/* <label className=\"\" style={{fontSize:\"20px\"}}>Start Duration:</label>\r\n            <Field className=\"\" name=\"\" type=\"date\"  />\r\n            {/* <KErrorMessage name=\"desc\" /> */}\r\n\r\n                            {/* <label className=\"\" style={{fontSize:\"20px\"}}>End Duration:</label>\r\n            <Field className=\"\" name=\"\" type=\"date\"  />  */}\r\n                            {/* <KErrorMessage name=\"desc\" /> */}\r\n\r\n                            <label className=\"labelAddSubscription\" style={{ fontSize: \"20px\" }}>\r\n                              Price of Plan:\r\n                            </label>\r\n                            <Field className=\"fieldAddSubscription\" name=\"PriceofPlan\" type=\"text\" />\r\n                            <KErrorMessage name=\"PriceofPlan\" />\r\n                            {/* <KErrorMessage name=\"name\" /> */}\r\n                          </div>\r\n                          <br />\r\n                          <br />\r\n                          <div\r\n                            style={{\r\n                              display: \"flex\",\r\n                              justifyContent: \"center\",\r\n                            }}\r\n                          >\r\n                            <button\r\n                              type=\"submit\"\r\n                              className=\"buttoncss\"\r\n                              style={{\r\n                                borderRadius: \"1.5rem\",\r\n                                border: \"none\",\r\n                                fontSize: \"1rem\",\r\n                                width: \"15vw\",\r\n                                height: \"5vh\",\r\n                                backgroundColor: \"#0e3f37\",\r\n                                color: \"#fff\",\r\n                              }}\r\n                            >\r\n                              SAVE\r\n                            </button>\r\n                          </div>\r\n                        </Form>\r\n                      )}\r\n                    </Formik>\r\n                  </div>\r\n                </Paper>\r\n              </div>\r\n            </div>\r\n          </Paper>\r\n        </div>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default AddEditSubscription;\r\n"],"sourceRoot":""}