(this.webpackJsonpbeedlez=this.webpackJsonpbeedlez||[]).push([[48],{1721:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return K}));var n=a(7),r=a.n(n),c=a(49),i=a(26),o=a(13),l=a(41),s=a(0),u=a.n(s),d=a(1476),m=a(5),g=a.n(m),p=a(32),f=a(15),b=a(224),h=a.n(b),v=a(80),E=a.n(v),x=a(254),O=a.n(x),w=a(1477),y=a(1478),k=a(564),j=a(1499),A=a(355),S=a(1479),I=a(1480),N=a(1481),C=a(1482),M=a(1483),T=a(1484),B=a(1485),P=a(1494),R=(a(217),a(30)),D=a(216),L=a.n(D),F=a(1493),_=a(1529),z=a(159),H=a(286),V=a(175),W=a(21),G=(a(43),a(81)),Y=a.n(G),U=a(221),J=a(219),X=a(84),Z=Object(d.a)((function(e){return{root:{flexWrap:"wrap"},margin:{margin:e.spacing(1)},extendedIcon:{marginRight:e.spacing(1)},paperHeading:{padding:"0rem 0rem"},table:{minWidth:650},textMiddle:{verticalAlign:"middle !important"},iconMargin:{margin:"0.5rem",color:"#fff",backgroundColor:"#696969"},iconcolor:{margin:"0.5rem",color:"#fff",backgroundColor:"#0e3f37 !important"},headingButton:{display:"flex",flexDirection:"row",justifyContent:"space-around",padding:"10px"},headingAlignment:Object(l.a)({display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap"},"@media (max-width:780px)",{flexDirection:"column",width:"100%",gap:"1rem",justifyContent:"center",textAlign:"center"}),Marginbutton:{margin:"0.5rem"},container:{},paperPaddingRightLeft:{padding:"0rem 1rem"}}})),q=Object(w.a)((function(e){return u.a.createElement(y.a,Object.assign({focusVisibleClassName:".Mui-focusVisible",disableRipple:!0},e))}))((function(e){var t=e.theme;return{width:42,height:26,padding:0,"& .MuiSwitch-switchBase":{padding:0,margin:2,transitionDuration:"300ms","&.Mui-checked":{transform:"translateX(16px)",color:"#fff","& + .MuiSwitch-track":{backgroundColor:(t.palette.mode,"#32cd32"),opacity:1,border:0},"&.Mui-disabled + .MuiSwitch-track":{opacity:.5}},"&.Mui-focusVisible .MuiSwitch-thumb":{color:"#33cf4d",border:"6px solid #fff"},"&.Mui-disabled .MuiSwitch-thumb":{color:"light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[600]},"&.Mui-disabled + .MuiSwitch-track":{opacity:"light"===t.palette.mode?.7:.3}},"& .MuiSwitch-thumb":{boxSizing:"border-box",width:22,height:22},"& .MuiSwitch-track":{borderRadius:13,backgroundColor:"light"===t.palette.mode?"#E9E9EA":"#f70f07",opacity:1,transition:t.transitions.create(["background-color"],{duration:500})}}}));function K(e){var t=Z(),a=Object(s.useState)([]),n=Object(o.a)(a,2),l=n[0],d=n[1],m=Object(s.useState)(!0),b=Object(o.a)(m,2),v=b[0],x=b[1],w=u.a.useState(0),y=Object(o.a)(w,2),D=y[0],G=y[1],K=u.a.useState(10),Q=Object(o.a)(K,2),$=Q[0],ee=Q[1],te=Object(s.useState)(4),ae=Object(o.a)(te,2),ne=(ae[0],ae[1]),re=Object(s.useState)(10),ce=Object(o.a)(re,2),ie=ce[0],oe=(ce[1],Object(s.useState)("")),le=Object(o.a)(oe,2),se=le[0],ue=le[1],de=Object(V.a)("".concat(X.b,"/fileUpload")),me=(de.isSuccess,de.uploadForm),ge=(de.progress,Object(s.useState)(null)),pe=Object(o.a)(ge,2),fe=pe[0],be=pe[1],he=Object(s.useState)({isAddEditBanner:""}),ve=Object(o.a)(he,2),Ee=ve[0],xe=ve[1];Object(s.useEffect)((function(){Oe()}),[]);var Oe=function(){var e=Object(i.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.prev=1,e.next=4,p.a.get("/private/banner");case 4:t=e.sent,a=t.data,console.log(a),d(Object(c.a)(a.data)),ue(se),ne(a.data.totalDocs),x(!1),0===a.data.length||a.status,e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(){return e.apply(this,arguments)}}(),we=function(){var e=Object(i.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{E.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(function(){var e=Object(i.a)(r.a.mark((function e(a){var n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.isConfirmed){e.next=10;break}return e.next=3,p.a.delete("/private/banner/".concat(t._id));case 3:n=e.sent,c=n.data,console.log(c),Oe(),f.b.success("Deleted",{position:f.b.POSITION.TOP_RIGHT}),e.next=11;break;case 10:f.b.error("You have cancelled the operation",{position:f.b.POSITION.TOP_RIGHT});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}catch(a){console.log(a),f.b.error(a,{position:f.b.POSITION.TOP_RIGHT})}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye=function(){var e=Object(i.a)(r.a.mark((function e(t,a){var n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.put("/private/banner/".concat(a._id),{isActive:t.target.checked});case 3:n=e.sent,c=n.data,Oe(),f.b.success(c.message,{position:f.b.POSITION.TOP_RIGHT}),console.log(c),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}(),ke=Object(s.useState)(""),je=Object(o.a)(ke,2),Ae=(je[0],je[1],Object(s.useState)([])),Se=Object(o.a)(Ae,2);Se[0],Se[1];!function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3}((function(e){Oe(D,ie,e.toLowerCase())}));var Ie=function(e){e?E.a.fire({customClass:{container:"my_swal"},icon:"success",title:"Success.",text:"Image Dimensions Accepted!"}):E.a.fire({customClass:{container:"my_swal"},icon:"error",title:"Oops...",text:"Image Dimensions not Accepted!"})},Ne=function(){var e=Object(i.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t),e.next=4,p.a.post("/private/banner",{image:t.ImageLink,isActive:!0});case 4:a=e.sent,n=a.data,Oe(),f.b.success(n.message,{position:f.b.POSITION.TOP_RIGHT}),be(""),xe({isAddEditBanner:!1}),console.log(n),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(i.a)(r.a.mark((function e(t){var a,n,c,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null===fe||void 0===fe?void 0:fe.image)!==t.ImageLink){e.next=19;break}return e.prev=1,console.log(t),e.next=5,p.a.put("/private/banner/".concat(fe._id),{image:t.ImageLink,isActive:fe.isActive});case 5:a=e.sent,n=a.data,Oe(),f.b.success(n.message,{position:f.b.POSITION.TOP_RIGHT}),be(""),xe({isAddEditBanner:!1}),console.log(n),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0);case 17:e.next=37;break;case 19:return e.prev=19,console.log(t),e.next=23,p.a.put("/private/banner/".concat(fe._id),{image:t.ImageLink,isActive:fe.isActive});case 23:return c=e.sent,i=c.data,e.next=27,Me();case 27:Oe(),f.b.success(i.message,{position:f.b.POSITION.TOP_RIGHT}),be(""),xe({isAddEditBanner:!1}),console.log(i),e.next=37;break;case 34:e.prev=34,e.t1=e.catch(19),console.log(e.t1);case 37:case"end":return e.stop()}}),e,null,[[1,14],[19,34]])})));return function(t){return e.apply(this,arguments)}}(),Me=function(){var e=Object(i.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=fe?null===fe||void 0===fe?void 0:fe.image.split("/")[3]:"",console.log(t),e.prev=2,e.next=5,Y.a.get("http://18.221.140.83:3000/fileDelete/".concat(t));case 5:a=e.sent,a.data,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"page-content"},u.a.createElement("div",{className:t.root},u.a.createElement(k.a,{elevation:0,style:{backgroundColor:"transparent"}},u.a.createElement("div",{className:t.paperPaddingRightLeft},u.a.createElement("div",{className:""},u.a.createElement(k.a,{elevation:0,style:{backgroundColor:"transparent"},className:g()(t.paperHeading,t.headingAlignment)},u.a.createElement("h3",{style:{}}," "),u.a.createElement("div",null),u.a.createElement(j.a,{title:u.a.createElement("span",{style:{color:"white",fontSize:"16px"}},"Add Banner"),arrow:!0},u.a.createElement(A.a,{className:"buttoncss mb-3",style:{backgroundColor:"#0059cd",color:"#fff"},onClick:function(){be(null),xe({isAddEditBanner:!0})}},u.a.createElement(h.a,null)))),u.a.createElement(k.a,null,u.a.createElement(S.a,{className:t.container,style:{minHeight:l.length>0?"50vh":""}},u.a.createElement(I.a,{className:t.table,stickyHeader:!0,size:"small"},u.a.createElement(N.a,null,u.a.createElement(C.a,null,u.a.createElement(M.a,{style:{fontWeight:"bold"}},"Sr. No."),u.a.createElement(M.a,{style:{textAlign:"center",fontWeight:"bold"}},"Date"),u.a.createElement(M.a,{style:{textAlign:"center",fontWeight:"bold"}},"Banner Image"),u.a.createElement(M.a,{style:{textAlign:"center",fontWeight:"bold"}},"Status"),u.a.createElement(M.a,{style:{textAlign:"center",fontWeight:"bold"}},"Actions"))),u.a.createElement(T.a,null,l.slice(D*$,D*$+$).map((function(e,a){return u.a.createElement(C.a,{hover:!0,key:a},u.a.createElement(M.a,{component:"th",scope:"row",className:t.textMiddle},a+1+D*$),u.a.createElement(M.a,{className:t.textMiddle,style:{textAlign:"center"}},O()(null===e||void 0===e?void 0:e.createdAt).format("DD/MM/YYYY")),u.a.createElement(M.a,{className:t.textMiddle,style:{textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center"}},u.a.createElement("div",{className:"",style:{width:"70px",height:"70px",display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden"}},u.a.createElement(_.a,{small:null===e||void 0===e?void 0:e.image,large:null===e||void 0===e?void 0:e.image,alt:"Banner Image",hideDownload:!0,hideZoom:!0}))),u.a.createElement(M.a,{className:t.textMiddle,style:{textAlign:"center"}},u.a.createElement(j.a,{title:u.a.createElement("span",{style:{fontSize:"16px"}},e.isActive?"Active":"Inactive"),arrow:!0},u.a.createElement(B.a,null,u.a.createElement(q,{onChange:function(t){ye(t,e)},checked:!!e.isActive})))),u.a.createElement(M.a,{className:t.textMiddle,style:{textAlign:"center",whiteSpace:"nowrap"}},u.a.createElement(B.a,{onClick:function(){be(e),xe({isAddEditBanner:!0})},className:"EditButton mx-2"},u.a.createElement(j.a,{title:u.a.createElement("span",{style:{fontSize:"16px"}},"Manage"),arrow:!0},u.a.createElement(L.a,null))),u.a.createElement(B.a,{className:"DeleteButton",onClick:function(){return we(e)},style:{}},u.a.createElement(j.a,{title:u.a.createElement("span",{style:{fontSize:"16px"}},"Delete"),arrow:!0},u.a.createElement(F.a,null)))))}))))),0===l.length&&u.a.createElement(J.a,{TextToDisplay:"No Data Found.",fontSize:"24px",Loading:v}),u.a.createElement(P.a,{style:{position:"fixed",bottom:4,backgroundColor:"white",right:27},rowsPerPageOptions:[10,25,100],component:"div",count:l.length,rowsPerPage:$,page:D,onPageChange:function(e,t){G(t)},onRowsPerPageChange:function(e){ee(+e.target.value),G(0)}}))))))),u.a.createElement(z.c,{maxWidth:"lg",width:"840px",isOpen:Ee.isAddEditBanner,onClose:function(e,t){t?(console.log(t),xe({isAddEditBanner:!0})):(xe({isAddEditBanner:!1}),be(null))},backgroundModal:!1,backgroundModalContent:!1,title:u.a.createElement("div",null,u.a.createElement("div",{className:"my-3",style:{textAlign:"center",fontWeight:"bold",fontSize:"22px",fontFamily:"'DM Sans', sans-serif"}},null===fe?"Add Vehicle Type":"Edit Vehicle Type"),u.a.createElement("div",{className:"closeicon"},u.a.createElement(H.a,{style:{fontSize:"1.5rem",position:"absolute",top:16,right:16,color:"#fff",borderRadius:"50%",backgroundColor:"red",cursor:"pointer"},onClick:function(){xe({isAddEditBanner:!1}),be(null)}}))),content:u.a.createElement(u.a.Fragment,null,u.a.createElement(W.d,{initialValues:{isActive:Object(R.get)(fe,"isActive",""),file1:"",ImageLink:Object(R.get)(fe,"image","")},validate:function(e){return Object(U.c)(e,fe)},onSubmit:function(e){console.log(e),null!==fe?Ce(e):(Ne(e),console.log("gadbad"))}},(function(e){return u.a.createElement(W.c,{style:{width:"100%"}},u.a.createElement("div",{className:"container"},u.a.createElement("div",{className:"row my-3"},u.a.createElement("div",{className:"col-md-6"},u.a.createElement("label",null,"Banner Image",u.a.createElement("span",{style:{color:"#85BB65",fontWeight:"bold"}},"(292x140)"),":"),u.a.createElement(W.b,{name:"file1"},(function(t){var a=t.field;return u.a.createElement(z.b,Object.assign({},a,{type:"file",value:void 0,accept:"image/png, image/jpeg , image/jpg",onChange:function(){var t=Object(i.a)(r.a.mark((function t(a){var n,c,l;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=Object(o.a)(a.target.files,1),c=n[0],console.log(c),c&&(l=new Image,console.log(URL.createObjectURL(c)),l.src=URL.createObjectURL(c),l.onload=Object(i.a)(r.a.mark((function t(){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(292!==l.width||140!==l.height){t.next=9;break}return Ie(!0),t.next=4,me(c);case 4:a=t.sent,e.setFieldValue("file1",c),e.setFieldValue("ImageLink",a),t.next=12;break;case 9:Ie(!1),e.setFieldValue("file1",""),e.setFieldValue("ImageLink","");case 12:case"end":return t.stop()}}),t)}))));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),error:e.touched.file1&&e.errors.file1?e.errors.file1:null,className:"form-control",placeholder:"Enter Banner Image"}))}))),u.a.createElement("div",{className:"col-md-6"},u.a.createElement(W.b,{name:"ImageLink"},(function(t){var a=t.field;return u.a.createElement(u.a.Fragment,null,u.a.createElement("img",Object.assign({},a,{alt:"banner image",src:e.values.ImageLink,style:{width:240,height:140},className:"form-control"})))}))))),u.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},u.a.createElement("button",{type:"submit",className:"buttoncss",style:{borderRadius:"1.5rem",border:"none",fontSize:"1rem",width:"10vw",height:"5vh",backgroundColor:"#006FFF",color:"#fff",margin:"2rem 0rem",cursor:"pointer"}},"SAVE"),console.log(e.errors)))})))}))}}}]);
//# sourceMappingURL=48.13941012.chunk.js.map